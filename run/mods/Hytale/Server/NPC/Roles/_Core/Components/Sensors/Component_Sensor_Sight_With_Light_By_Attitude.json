{
  "Class": "Sensor",
  "Parameters": {
    "ViewRange": {
      "Value": 10,
      "Description": "The range from which the player will be seen"
    },
    "Attitudes": {
      "Value": [ "Hostile", "Revered", "Friendly", "Neutral" ],
      "Description": "A prioritised list of attitudes to respond to"
    },
    "ExcludeGroups": {
      "Value": [ ],
      "TypeHint": "String",
      "Description": "Groups to exclude"
    },
    "GetNPCs": {
      "Value": true,
      "Description": "Whether to include NPCs in this sensor"
    },
    "IgnoreLockedTarget": {
      "Value": false,
      "Description": "Whether to ignore the current locked target"
    },
    "Enabled": {
      "Value": true,
      "Description": "Whether this sensor should be enabled"
    },
    "Moving": {
      "Value": true,
      "Description": "Whether to check movement"
    },
    "Items": {
      "Value": [ "Furniture_Crude_Torch", "Furniture_Ancient_Torch", "Furniture_Temple_Emerald_Torch", "Furniture_Human_Ruins_Torch", "Wood_Torch_Wall" ],
      "TypeHint": "String",
      "Description": "An array of items in the players hand that emite light"
    }
  },
  "Content": {
    "Enabled": { "Compute": "Enabled" },
    "Type": "Mob",
    "LockOnTarget": true,
    "GetPlayers": true,
    "GetNPCs": { "Compute": "GetNPCs" },
    "ExcludeOwnType": true,
    "Range": { "Compute": "ViewRange" },
    "Filters": [
      {
        "$Comment": "We can only do exact item matches for now",
        "Type": "ItemInHand",
        "Items": { "Compute": "Items" }
      },
      {
        "Type": "LineOfSight"
      },
      {
        "Enabled": { "Compute": "!isEmptyStringArray(ExcludeGroups)" },
        "Type": "NPCGroup",
        "ExcludeGroups": { "Compute": "ExcludeGroups" }
      },
      {
        "Enabled": { "Compute": "Moving" },
        "Type": "Not",
        "Filter": {
          "Type": "MovementState",
          "State": "Idle"
        }
      }
    ],
    "Prioritiser": {
      "Type": "Attitude",
      "AttitudesByPriority": { "Compute": "Attitudes" }
    },
    "Collector": {
      "Type": "CombatTargets"
    }
  },
  "Type": "Component"
}